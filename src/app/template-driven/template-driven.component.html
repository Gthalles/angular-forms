<form #f="ngForm" (ngSubmit)="onSubmit(f)">
    
    <app-form-debug [form]="f"></app-form-debug>
    
    <div class="form-group" [class.has-error]="!name.valid && name.touched"
        [class.has-feedback]="!name.valid && name.touched">
        <label for="name" class="control-label">Nome:</label>
        <input type="text" id="name" class="form-control" placeholder="Nome" name="name" [(ngModel)]="user.name"
            required #name="ngModel">

        <span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"
            *ngIf="!name.valid && name.touched"></span>
        <span id="name" class="sr-only" *ngIf="!name.valid && name.touched">(error)</span>

        <div *ngIf="name.invalid && name.touched" class="alert alert-danger" role="alert">
            <!--{{ name.className }}-->
            Nome obrigatório!
        </div>
    </div>

    <div class="form-group" [class.has-error]="!name.valid && name.touched"
        [class.has-feedback]="!name.valid && name.touched">
        <label for="email" class="control-label">Email</label>
        <input type="text" id="email" class="form-control" placeholder="nome@email.com" name="email"
            [(ngModel)]="user.email" required
            pattern="[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?"
            #email="ngModel">

        <span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"
            *ngIf="!name.valid && name.touched"></span>
        <span id="email" class="sr-only" *ngIf="!name.valid && name.touched">(error)</span>

        <div *ngIf="email.invalid && email.touched" class="alert alert-danger" role="alert">
            Email inválido!
        </div>
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="f.invalid">Submit</button>
</form>